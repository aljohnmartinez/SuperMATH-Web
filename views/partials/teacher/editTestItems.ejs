<script>
	$(document).ready(function(){
		$('.modal-trigger').leanModal();
	});
	$(document).ready(function() {
		$('select').material_select();
	});
</script>

<div class="row">
	<div class="row valign-wrapper">
		<div class="col s10">
			<h5> <span class="grey-text"> Unit <%= unit %>: </span> <%= title %> </h5>
		</div>
		<div class="col s2 valign right-align">
			<a class="waves-effect waves-light btn black" href="/manageLessons">Back</a>
		</div>
	</div>

	<blockquote> Every unit in the mobile application will have a <b>Diagnostic Test</b> and a <b>Unit Test</b>. The tests will have the same set of questions, with the Unit Test having the questions in random order. </blockquote>
</div>

<div>
	<table class="highlight">
		<thead>
			<tr>
				<th data-field="No">#</th>
				<th data-field="Question">Question</th>
				<th data-field="A">A</th>
				<th data-field="B">B</th>
				<th data-field="C">C</th>
				<th data-field="D">D</th>
				<th data-field="Action">Action</th>
			</tr>
		</thead>

		<tbody>
		<% for (var i = 0; i < 10; i++) { %>
			<tr>
				<td><%= i+1 %></td>
				<td><%= items[i].question %></td>
				<td>
					<% if (items[i].choice1 === items[i].answer) { %>
						<span class="red-text"> <b> <%= items[i].choice1 %> </b> </span>
					<% } else { %>
						<%= items[i].choice1 %>
					<% } %>
				</td>
				<td>
					<% if (items[i].choice2 === items[i].answer) { %>
						<span class="red-text"> <b> <%= items[i].choice2 %> </b> </span>
					<% } else { %>
						<%= items[i].choice2 %>
					<% } %>
				</td>
				<td>
					<% if (items[i].choice3 === items[i].answer) { %>
						<span class="red-text"> <b> <%= items[i].choice3 %> </b> </span>
					<% } else { %>
						<%= items[i].choice3 %>
					<% } %>
				</td>
				<td>
					<% if (items[i].choice4 === items[i].answer) { %>
						<span class="red-text"> <b> <%= items[i].choice4 %> </b> </span>
					<% } else { %>
						<%= items[i].choice4 %>
					<% } %>
				</td>
 				<td>
					<button data-target="<%= items[i].id %>editModal" class="btn modal-trigger cyan"> Edit </button>

					<div id="<%= items[i].id %>editModal" class="modal">
						<h6>
							<div class="modal-content">
								<h4 class="center-align"> Edit Question </h4>
								<form method="POST" action="/editQuestion" en>
									<input type="hidden" name="id" value="<%= items[i].id %>">
									<input type="hidden" name="unit" value="<%= unit %>">

									<h5 class="grey-text"> Question </h5>
									<div class="input-field">
										<input id="question" type="text" name="question" value="<%= items[i].question %>">
									</div>

									<h5 class="grey-text"> Choices </h5>
									<i> To change the correct answer, click on the circle corresponding to the letter. </i>
									<div class="row">
										<div class="input-field col s2 right-align">
											<% if (items[i].answer === items[i].choice1 || items[i].answer === "") { %>
												<input class="with-gap" name="answer" type="radio" id="<%= i%>A" value="A" checked />
											<% } else { %>
												<input class="with-gap" name="answer" type="radio" id="<%= i%>A" value="A" />
											<% } %>
											<label for="<%= i%>A" class="black-text">A</label>
										</div>
										<div class="input-field col s9">
											<input id="choice1" type="text" name="choice1" value="<%= items[i].choice1 %>">
										</div>
									</div>
									<div class="row">
										<div class="input-field col s2 right-align">
											<% if (items[i].answer === items[i].choice2) { %>
												<input class="with-gap" name="answer" type="radio" id="<%= i%>B" value="B" checked />
											<% } else { %>
												<input class="with-gap" name="answer" type="radio" id="<%= i%>B" value="B" />
											<% } %>
											<label for="<%= i%>B" class="black-text">B</label>
										</div>
										<div class="input-field col s9">
											<input id="choice2" type="text" name="choice2" value="<%= items[i].choice2 %>">
										</div>
									</div>
									<div class="row">
										<div class="input-field col s2 right-align">
											<% if (items[i].answer === items[i].choice3) { %>
												<input class="with-gap" name="answer" type="radio" id="<%= i%>C" value="C" checked />
											<% } else { %>
												<input class="with-gap" name="answer" type="radio" id="<%= i%>C" value="C" />
											<% } %>
											<label for="<%= i%>C" class="black-text">C</label>
										</div>
										<div class="input-field col s9">
											<input id="choice3" type="text" name="choice3" value="<%= items[i].choice3 %>">
										</div>
									</div>
									<div class="row">
										<div class="input-field col s2 right-align">
											<% if (items[i].answer === items[i].choice4) { %>
												<input class="with-gap" name="answer" type="radio" id="<%= i%>D" value="D" checked />
											<% } else { %>
												<input class="with-gap" name="answer" type="radio" id="<%= i%>D" value="D" />
											<% } %>
											<label for="<%= i%>D" class="black-text">D</label>
										</div>
										<div class="input-field col s9">
											<input id="choice4" type="text" name="choice4" value="<%= items[i].choice4 %>">
										</div>
									</div>
<!-- 									<div class="input-field">
										<input id="choice2" type="text" name="choice2" value="<%= items[i].choice2 %>">
										<label for="choice2"> Value for B </label>
									</div>
									<div class="input-field">
										<input id="choice3" type="text" name="choice3" value="<%= items[i].choice3 %>">
										<label for="choice3"> Value for C </label>
									</div>
									<div class="input-field">
										<input id="choice4" type="text" name="choice4" value="<%= items[i].choice4 %>">
										<label for="choice4"> Value for D </label>
									</div>
 -->									<div class="input-field center-align">
										<button class="btn waves-effect waves-light" type="submit" name="submit"> Edit </button>
									</div>
								</form>
							</div>
						</h6>
					</div>
				</td>
 			</tr>
 		<% } %>
		</tbody>
	</table>
</div>
